{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jayes\\\\OneDrive\\\\Desktop\\\\Recibo\\\\Assignment\\\\Frontend\\\\src\\\\outlet\\\\AddEdit.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport { alertService, outletService } from '../_services';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddEdit(_ref) {\n  _s();\n\n  var _errors$Name, _errors$Phone, _errors$Address;\n\n  let {\n    history,\n    match\n  } = _ref;\n  const {\n    id\n  } = match.params;\n  const isAddMode = !id; // form validation rules \n\n  const validationSchema = Yup.object().shape({\n    Name: Yup.string().required('Name is required'),\n    Phone: Yup.number().required('Phone number is required'),\n    Address: Yup.string().required('Address is required')\n  }); // functions to build form returned by useForm() hook\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    setValue,\n    errors,\n    formState\n  } = useForm({\n    resolver: yupResolver(validationSchema)\n  });\n\n  function onSubmit(data) {\n    return isAddMode ? createoutlet(data) : updateoutlet(id, data);\n  }\n\n  function createoutlet(data) {\n    return outletService.create(data).then(() => {\n      alertService.success('Outlet added', {\n        keepAfterRouteChange: true\n      });\n      history.push('.');\n    }).catch(alertService.error);\n  }\n\n  function updateoutlet(id, data) {\n    return outletService.update(id, data).then(() => {\n      alertService.success('Outlet updated', {\n        keepAfterRouteChange: true\n      });\n      history.push('..');\n    }).catch(alertService.error);\n  }\n\n  useEffect(() => {\n    if (!isAddMode) {\n      // get outlet and set form fields\n      outletService.getById(id).then(outlet => {\n        const fields = ['Name', 'Phone', 'address'];\n        fields.forEach(field => setValue(field, outlet[field]));\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    onReset: reset,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: isAddMode ? 'Add outlet' : 'Edit outlet'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group col-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Outlet Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          Name: \"Name\",\n          type: \"text\",\n          ref: register,\n          className: `form-control ${errors.firstName ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: (_errors$Name = errors.Name) === null || _errors$Name === void 0 ? void 0 : _errors$Name.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group col-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Phone\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          Name: \"Phone\",\n          type: \"Phone\",\n          ref: register,\n          className: `form-control ${errors.Phone ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: (_errors$Phone = errors.Phone) === null || _errors$Phone === void 0 ? void 0 : _errors$Phone.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group col-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          Name: \"Address\",\n          type: \"text\",\n          ref: register,\n          className: `form-control ${errors.Address ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: (_errors$Address = errors.Address) === null || _errors$Address === void 0 ? void 0 : _errors$Address.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: formState.isSubmitting,\n        className: \"btn btn-primary\",\n        children: [formState.isSubmitting && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"spinner-border spinner-border-sm mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 48\n        }, this), \"Save\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: isAddMode ? '.' : '..',\n        className: \"btn btn-link\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddEdit, \"6Pm8byjinSpjTcYCjRkkIqVR6r4=\", false, function () {\n  return [useForm];\n});\n\n_c = AddEdit;\nexport { AddEdit };\n\nvar _c;\n\n$RefreshReg$(_c, \"AddEdit\");","map":{"version":3,"sources":["C:/Users/jayes/OneDrive/Desktop/Recibo/Assignment/Frontend/src/outlet/AddEdit.jsx"],"names":["React","useEffect","Link","useForm","yupResolver","Yup","alertService","outletService","AddEdit","history","match","id","params","isAddMode","validationSchema","object","shape","Name","string","required","Phone","number","Address","register","handleSubmit","reset","setValue","errors","formState","resolver","onSubmit","data","createoutlet","updateoutlet","create","then","success","keepAfterRouteChange","push","catch","error","update","getById","outlet","fields","forEach","field","firstName","message","isSubmitting"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\n\nimport { alertService, outletService } from '../_services';\n\nfunction AddEdit({ history, match }) {\n    const { id } = match.params;\n    const isAddMode = !id;\n\n    // form validation rules \n    const validationSchema = Yup.object().shape({\n        Name: Yup.string()\n            .required('Name is required'),\n        Phone: Yup.number()\n            .required('Phone number is required'),\n        Address: Yup.string()\n            .required('Address is required'),\n    });\n\n    // functions to build form returned by useForm() hook\n    const { register, handleSubmit, reset, setValue, errors, formState } = useForm({\n        resolver: yupResolver(validationSchema)\n    });\n\n    function onSubmit(data) {\n        return isAddMode\n            ? createoutlet(data)\n            : updateoutlet(id, data);\n    }\n\n    function createoutlet(data) {\n        return outletService.create(data)\n            .then(() => {\n                alertService.success('Outlet added', { keepAfterRouteChange: true });\n                history.push('.');\n            })\n            .catch(alertService.error);\n    }\n\n    function updateoutlet(id, data) {\n        return outletService.update(id, data)\n            .then(() => {\n                alertService.success('Outlet updated', { keepAfterRouteChange: true });\n                history.push('..');\n            })\n            .catch(alertService.error);\n    }\n\n    useEffect(() => {\n        if (!isAddMode) {\n            // get outlet and set form fields\n            outletService.getById(id).then(outlet => {\n                const fields = ['Name', 'Phone', 'address'];\n                fields.forEach(field => setValue(field, outlet[field]));\n            });\n        }\n    }, []);\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)} onReset={reset}>\n            <h1>{isAddMode ? 'Add outlet' : 'Edit outlet'}</h1>\n            <div className=\"form-row\">\n                <div className=\"form-group col-5\">\n                    <label>Outlet Name</label>\n                    <input Name=\"Name\" type=\"text\" ref={register} className={`form-control ${errors.firstName ? 'is-invalid' : ''}`} />\n                    <div className=\"invalid-feedback\">{errors.Name?.message}</div>\n                </div>\n                <div className=\"form-group col-5\">\n                    <label>Phone</label>\n                    <input Name=\"Phone\" type=\"Phone\" ref={register} className={`form-control ${errors.Phone ? 'is-invalid' : ''}`} />\n                    <div className=\"invalid-feedback\">{errors.Phone?.message}</div>\n                </div>\n                <div className=\"form-group col-5\">\n                    <label>Address</label>\n                    <input Name=\"Address\" type=\"text\" ref={register} className={`form-control ${errors.Address ? 'is-invalid' : ''}`} />\n                    <div className=\"invalid-feedback\">{errors.Address?.message}</div>\n                </div>\n            </div>\n            <div className=\"form-group\">\n                <button type=\"submit\" disabled={formState.isSubmitting} className=\"btn btn-primary\">\n                    {formState.isSubmitting && <span className=\"spinner-border spinner-border-sm mr-1\"></span>}\n                    Save\n                </button>\n                <Link to={isAddMode ? '.' : '..'} className=\"btn btn-link\">Cancel</Link>\n            </div>\n        </form>\n    );\n}\n\nexport { AddEdit };"]},"metadata":{},"sourceType":"module"}